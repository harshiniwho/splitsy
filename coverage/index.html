<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Splitsy</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.12.3/application.js' type='text/javascript'></script>
    <link href='./assets/0.12.3/application.css' media='screen, projection, print' rel='stylesheet' type='text/css' />
    <link rel="shortcut icon" type="image/png" href="./assets/0.12.3/favicon_red.png" />
    <link rel="icon" type="image/png" href="./assets/0.12.3/favicon.png" />
  </head>

  <body>
    <div id="loading">
      <img src="./assets/0.12.3/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" class="hide">
<<<<<<< HEAD
      <div class="timestamp">Generated <abbr class="timeago" title="2022-12-04T12:02:52-05:00">2022-12-04T12:02:52-05:00</abbr></div>
=======
      <div class="timestamp">Generated <abbr class="timeago" title="2022-12-01T21:41:56-05:00">2022-12-01T21:41:56-05:00</abbr></div>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    <span class="group_name">All Files</span>
    (<span class="covered_percent">
      <span class="red">
<<<<<<< HEAD
  62.02%
=======
  76.62%
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
<<<<<<< HEAD
         3.71
=======
         3.64
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
       </span>
    </span> hits/line
    )
  </h2>

  <a name="AllFiles"></a>

  <div>
    <b>8</b> files in total.
  </div>

  <div class="t-line-summary">
<<<<<<< HEAD
    <b>366</b> relevant lines,
    <span class="green"><b>227</b> lines covered</span> and
    <span class="red"><b>139</b> lines missed. </span>
    (<span class="red">
  62.02%
=======
    <b>278</b> relevant lines,
    <span class="green"><b>213</b> lines covered</span> and
    <span class="red"><b>65</b> lines missed. </span>
    (<span class="red">
  76.62%
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#9849042e2a6f66b6ecf514816c6ab51b46295a85" class="src_link" title="app/controllers/application_controller.rb">app/controllers/application_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">5</td>
            <td class="cell--number">2</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#4381a58e671d449c17016a98c6b1fbaffae58b1c" class="src_link" title="app/controllers/repayments_controller.rb">app/controllers/repayments_controller.rb</a></td>
            <td class="red strong cell--number t-file__coverage">0.00 %</td>
<<<<<<< HEAD
            <td class="cell--number">77</td>
=======
            <td class="cell--number">76</td>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <td class="cell--number">62</td>
            <td class="cell--number">0</td>
            <td class="cell--number">62</td>
            <td class="cell--number">0.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#365e0463bda3a3cc6840b0fcd6d1d4650f1fbc81" class="src_link" title="app/controllers/sessions_controller.rb">app/controllers/sessions_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">2</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#576365f0e513c95d35dbb8d520d7d95590c36dfa" class="src_link" title="app/controllers/transactions_controller.rb">app/controllers/transactions_controller.rb</a></td>
<<<<<<< HEAD
            <td class="red strong cell--number t-file__coverage">57.87 %</td>
            <td class="cell--number">268</td>
            <td class="cell--number">178</td>
            <td class="cell--number">103</td>
            <td class="cell--number">75</td>
            <td class="cell--number">4.98</td>
=======
            <td class="green strong cell--number t-file__coverage">98.89 %</td>
            <td class="cell--number">140</td>
            <td class="cell--number">90</td>
            <td class="cell--number">89</td>
            <td class="cell--number">1</td>
            <td class="cell--number">6.61</td>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f7177e99a07671734c0f90e6dd59061ceb863bfa" class="src_link" title="app/controllers/users_controller.rb">app/controllers/users_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">95.74 %</td>
            <td class="cell--number">79</td>
            <td class="cell--number">47</td>
            <td class="cell--number">45</td>
            <td class="cell--number">2</td>
            <td class="cell--number">1.60</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#b7db2b897c32229cf357057f236138b8cd1e22de" class="src_link" title="app/models/repayment.rb">app/models/repayment.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">23</td>
            <td class="cell--number">13</td>
            <td class="cell--number">13</td>
            <td class="cell--number">0</td>
<<<<<<< HEAD
            <td class="cell--number">5.38</td>
=======
            <td class="cell--number">1.08</td>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f38a9c93b1660cfa90eed1a35ec2f9d6819fd130" class="src_link" title="app/models/transaction.rb">app/models/transaction.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">87</td>
            <td class="cell--number">59</td>
            <td class="cell--number">59</td>
            <td class="cell--number">0</td>
            <td class="cell--number">5.19</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f0b2ff7695c22e731aebe795e43b9da6fffb0efe" class="src_link" title="app/models/user.rb">app/models/user.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">6</td>
            <td class="cell--number">4</td>
            <td class="cell--number">4</td>
            <td class="cell--number">0</td>
            <td class="cell--number">4.50</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>


        
          <div class="file_list_container" id="Controllers">
  <h2>
    <span class="group_name">Controllers</span>
    (<span class="covered_percent">
      <span class="red">
<<<<<<< HEAD
  52.07%
=======
  67.82%
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         3.33
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Controllers"></a>

  <div>
    <b>5</b> files in total.
  </div>

  <div class="t-line-summary">
<<<<<<< HEAD
    <b>290</b> relevant lines,
    <span class="green"><b>151</b> lines covered</span> and
    <span class="red"><b>139</b> lines missed. </span>
    (<span class="red">
  52.07%
=======
    <b>202</b> relevant lines,
    <span class="green"><b>137</b> lines covered</span> and
    <span class="red"><b>65</b> lines missed. </span>
    (<span class="red">
  67.82%
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#9849042e2a6f66b6ecf514816c6ab51b46295a85" class="src_link" title="app/controllers/application_controller.rb">app/controllers/application_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">5</td>
            <td class="cell--number">2</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#4381a58e671d449c17016a98c6b1fbaffae58b1c" class="src_link" title="app/controllers/repayments_controller.rb">app/controllers/repayments_controller.rb</a></td>
            <td class="red strong cell--number t-file__coverage">0.00 %</td>
<<<<<<< HEAD
            <td class="cell--number">77</td>
=======
            <td class="cell--number">76</td>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <td class="cell--number">62</td>
            <td class="cell--number">0</td>
            <td class="cell--number">62</td>
            <td class="cell--number">0.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#365e0463bda3a3cc6840b0fcd6d1d4650f1fbc81" class="src_link" title="app/controllers/sessions_controller.rb">app/controllers/sessions_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">2</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#576365f0e513c95d35dbb8d520d7d95590c36dfa" class="src_link" title="app/controllers/transactions_controller.rb">app/controllers/transactions_controller.rb</a></td>
<<<<<<< HEAD
            <td class="red strong cell--number t-file__coverage">57.87 %</td>
            <td class="cell--number">268</td>
            <td class="cell--number">178</td>
            <td class="cell--number">103</td>
            <td class="cell--number">75</td>
            <td class="cell--number">4.98</td>
=======
            <td class="green strong cell--number t-file__coverage">98.89 %</td>
            <td class="cell--number">140</td>
            <td class="cell--number">90</td>
            <td class="cell--number">89</td>
            <td class="cell--number">1</td>
            <td class="cell--number">6.61</td>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f7177e99a07671734c0f90e6dd59061ceb863bfa" class="src_link" title="app/controllers/users_controller.rb">app/controllers/users_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">95.74 %</td>
            <td class="cell--number">79</td>
            <td class="cell--number">47</td>
            <td class="cell--number">45</td>
            <td class="cell--number">2</td>
            <td class="cell--number">1.60</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Channels">
  <h2>
    <span class="group_name">Channels</span>
    (<span class="covered_percent">
      <span class="green">
  100.0%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="red">
         0.0
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Channels"></a>

  <div>
    <b>0</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>0</b> relevant lines,
    <span class="green"><b>0</b> lines covered</span> and
    <span class="red"><b>0</b> lines missed. </span>
    (<span class="green">
  100.0%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Models">
  <h2>
    <span class="group_name">Models</span>
    (<span class="covered_percent">
      <span class="green">
  100.0%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
<<<<<<< HEAD
         5.18
=======
         4.45
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Models"></a>

  <div>
    <b>3</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>76</b> relevant lines,
    <span class="green"><b>76</b> lines covered</span> and
    <span class="red"><b>0</b> lines missed. </span>
    (<span class="green">
  100.0%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#b7db2b897c32229cf357057f236138b8cd1e22de" class="src_link" title="app/models/repayment.rb">app/models/repayment.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">23</td>
            <td class="cell--number">13</td>
            <td class="cell--number">13</td>
            <td class="cell--number">0</td>
<<<<<<< HEAD
            <td class="cell--number">5.38</td>
=======
            <td class="cell--number">1.08</td>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f38a9c93b1660cfa90eed1a35ec2f9d6819fd130" class="src_link" title="app/models/transaction.rb">app/models/transaction.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">87</td>
            <td class="cell--number">59</td>
            <td class="cell--number">59</td>
            <td class="cell--number">0</td>
            <td class="cell--number">5.19</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f0b2ff7695c22e731aebe795e43b9da6fffb0efe" class="src_link" title="app/models/user.rb">app/models/user.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">6</td>
            <td class="cell--number">4</td>
            <td class="cell--number">4</td>
            <td class="cell--number">0</td>
            <td class="cell--number">4.50</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Mailers">
  <h2>
    <span class="group_name">Mailers</span>
    (<span class="covered_percent">
      <span class="green">
  100.0%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="red">
         0.0
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Mailers"></a>

  <div>
    <b>0</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>0</b> relevant lines,
    <span class="green"><b>0</b> lines covered</span> and
    <span class="red"><b>0</b> lines missed. </span>
    (<span class="green">
  100.0%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Helpers">
  <h2>
    <span class="group_name">Helpers</span>
    (<span class="covered_percent">
      <span class="green">
  100.0%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="red">
         0.0
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Helpers"></a>

  <div>
    <b>0</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>0</b> relevant lines,
    <span class="green"><b>0</b> lines covered</span> and
    <span class="red"><b>0</b> lines missed. </span>
    (<span class="green">
  100.0%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Jobs">
  <h2>
    <span class="group_name">Jobs</span>
    (<span class="covered_percent">
      <span class="green">
  100.0%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="red">
         0.0
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Jobs"></a>

  <div>
    <b>0</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>0</b> relevant lines,
    <span class="green"><b>0</b> lines covered</span> and
    <span class="red"><b>0</b> lines missed. </span>
    (<span class="green">
  100.0%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Libraries">
  <h2>
    <span class="group_name">Libraries</span>
    (<span class="covered_percent">
      <span class="green">
  100.0%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="red">
         0.0
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Libraries"></a>

  <div>
    <b>0</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>0</b> relevant lines,
    <span class="green"><b>0</b> lines covered</span> and
    <span class="red"><b>0</b> lines missed. </span>
    (<span class="green">
  100.0%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
      </tbody>
    </table>
  </div>
</div>

        
      </div>

      <div id="footer">
        Generated by <a href="https://github.com/simplecov-ruby/simplecov">simplecov</a> v0.19.1
        and simplecov-html v0.12.3<br/>
        using RSpec
      </div>

      <div class="source_files">
      
        <div class="source_table" id="9849042e2a6f66b6ecf514816c6ab51b46295a85">
  <div class="header">
    <h3>app/controllers/application_controller.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>2</b> relevant lines.
      <span class="green"><b>2</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class ApplicationController &lt; ActionController::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">  # Prevent CSRF attacks by raising an exception.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">  # For APIs, you may want to use :null_session instead.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  protect_from_forgery with: :exception</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="4381a58e671d449c17016a98c6b1fbaffae58b1c">
  <div class="header">
    <h3>app/controllers/repayments_controller.rb</h3>
    <h4>
      <span class="red">
  0.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>62</b> relevant lines.
      <span class="green"><b>0</b> lines covered</span> and
      <span class="red"><b>62</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1">
            
            

            

            <code class="ruby">require &#39;date&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2">
            
            

            

            <code class="ruby">class RepaymentsController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="3">
            
            

            

            <code class="ruby">    before_action :check_login</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="5">
            
            

            

            <code class="ruby">    def check_login</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="6">
            
            

            

            <code class="ruby">        if session[:user_email] == nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="7">
            
            

            

            <code class="ruby">            flash[:notice] = &quot;Invalid session, please login.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="8">
            
            

            

            <code class="ruby">            redirect_to welcome_path</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="9">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="10">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="13">
            
            

            

            <code class="ruby">    def list</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="14">
            
            

            

            <code class="ruby">        @user_email = session[:user_email]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="15">
            
            

            

            <code class="ruby">        filter_form = params[&quot;filter_form&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="16">
            
            

            

            <code class="ruby">        @repayments = Repayment.all_repayment_for_user(session[:user_email])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="17">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="19">
            
            

            

            <code class="ruby">    def new</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="20">
            
            

            

            <code class="ruby">        @users = Transaction.all_user_mails</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="21">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="23">
            
            

            

            <code class="ruby">    def validate_repayment</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="24">
            
            

            

            <code class="ruby">        flag = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="26">
            
            

            

            <code class="ruby">        if session[:user_email] == params[&quot;repayment&quot;][&#39;payee_email&#39;]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="27">
            
            

            

            <code class="ruby">            flash[:notice] = &quot;Invalid transaction - payer and payee cannot be the same user.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="28">
            
            

            

            <code class="ruby">        elsif params[&quot;repayment&quot;][&#39;amount&#39;].to_i &gt; Transaction.owe_money(session[:user_email], params[&quot;repayment&quot;][&#39;payee_email&#39;])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">           flash[:notice] = &quot;Invalid transaction - you can&#39;t repay more than what you owe&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="30">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="31">
            
            

            

            <code class="ruby">            flag = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="33">
            
            

            

            <code class="ruby">        return flag</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="34">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="36">
            
            

            

            <code class="ruby">    def create</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="37">
            
            

            

            <code class="ruby">        if validate_repayment</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="38">
            
            

            

            <code class="ruby">            begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="39">
            
            

            

            <code class="ruby">                p = params[&quot;repayment&quot;].clone</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="40">
            
            

            

            <code class="ruby">                p.merge!(&#39;payer_email&#39;: session[:user_email])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="41">
            
            

            

<<<<<<< HEAD
            <code class="ruby">                p[&quot;amount&quot;]=p[&quot;amount&quot;].to_f</code>
=======
            <code class="ruby">                p[&quot;amount&quot;]=p[&quot;amount&quot;].to_s</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="42">
=======
          <li class="missed" data-hits="0" data-linenumber="42">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

<<<<<<< HEAD
            <code class="ruby"></code>
=======
            <code class="ruby">                print(p)</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="43">
            
            

            

<<<<<<< HEAD
            <code class="ruby">                p.permit!</code>
=======
            <code class="ruby">                @repayment = Repayment.create!(p)</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="44">
            
            

            

<<<<<<< HEAD
            <code class="ruby">                @repayment = Repayment.create!(p)</code>
=======
            <code class="ruby">                flash[:notice] = &quot;Transaction was successfully created.&quot;</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            
            

            

<<<<<<< HEAD
            <code class="ruby">                flash[:notice] = &quot;Transaction was successfully created.&quot;</code>
=======
            <code class="ruby">            rescue ActiveRecord::RecordInvalid =&gt; invalid</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

<<<<<<< HEAD
            <code class="ruby">            rescue ActiveRecord::RecordInvalid =&gt; invalid</code>
=======
            <code class="ruby">                flash[:notice] = &quot;Invalid transaction amount/percentage.&quot;</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="47">
            
            

            

<<<<<<< HEAD
            <code class="ruby">                flash[:notice] = &quot;Invalid transaction amount/percentage.&quot;</code>
=======
            <code class="ruby">            end</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="48">
            
            

            

<<<<<<< HEAD
            <code class="ruby">            end</code>
=======
            <code class="ruby">        end</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="49">
            
            

            

<<<<<<< HEAD
            <code class="ruby">        end</code>
=======
            <code class="ruby">        redirect_to repayments_path</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="50">
            
            

            

<<<<<<< HEAD
            <code class="ruby">        redirect_to all_repayments_path</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="51">
            
            

            

=======
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="52">
=======
          <li class="never" data-hits="" data-linenumber="51">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="53">
=======
          <li class="missed" data-hits="0" data-linenumber="52">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    def update</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="54">
=======
          <li class="missed" data-hits="0" data-linenumber="53">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">        @transaction = Transaction.find params[:id]</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="55">
=======
          <li class="missed" data-hits="0" data-linenumber="54">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">        @transaction.update_attributes!(transaction_params)</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="56">
=======
          <li class="missed" data-hits="0" data-linenumber="55">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">        flash[:notice] = &quot;#{@transaction.id} was successfully updated.&quot;</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="57">
=======
          <li class="missed" data-hits="0" data-linenumber="56">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">        redirect_to transaction_path(@transaction)</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="58">
=======
          <li class="missed" data-hits="0" data-linenumber="57">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="59">
=======
          <li class="never" data-hits="" data-linenumber="58">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="60">
=======
          <li class="missed" data-hits="0" data-linenumber="59">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    def convert_amount</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="61">
=======
          <li class="missed" data-hits="0" data-linenumber="60">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">        return @transaction.amount.to_s + &quot; (&quot; + @transaction.currency + &quot;)&quot;</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="62">
=======
          <li class="missed" data-hits="0" data-linenumber="61">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="63">
=======
          <li class="never" data-hits="" data-linenumber="62">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="64">
=======
          <li class="missed" data-hits="0" data-linenumber="63">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    def logout</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="65">
=======
          <li class="missed" data-hits="0" data-linenumber="64">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">        session[:user_email] = nil</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="66">
=======
          <li class="missed" data-hits="0" data-linenumber="65">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">        flash[:notice] = &quot;User successfully logged out.&quot;</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="67">
=======
          <li class="missed" data-hits="0" data-linenumber="66">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">        redirect_to welcome_path</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="68">
=======
          <li class="missed" data-hits="0" data-linenumber="67">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="69">
=======
          <li class="never" data-hits="" data-linenumber="68">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="70">
=======
          <li class="missed" data-hits="0" data-linenumber="69">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="71">
=======
          <li class="never" data-hits="" data-linenumber="70">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    # Making &quot;internal&quot; methods private is not required, but is a common practice.</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="72">
=======
          <li class="never" data-hits="" data-linenumber="71">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    # This helps make clear which methods respond to requests, and which ones do not.</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="73">
=======
          <li class="missed" data-hits="0" data-linenumber="72">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    def repayment_params</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="74">
=======
          <li class="missed" data-hits="0" data-linenumber="73">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">        params.require(:repayment).permit(:payer_email, :payee_email, :description, :currency, :amount)</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="75">
=======
          <li class="missed" data-hits="0" data-linenumber="74">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="76">
=======
          <li class="missed" data-hits="0" data-linenumber="75">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="77">
=======
          <li class="never" data-hits="" data-linenumber="76">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="365e0463bda3a3cc6840b0fcd6d1d4650f1fbc81">
  <div class="header">
    <h3>app/controllers/sessions_controller.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>1</b> relevant lines.
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

<<<<<<< HEAD
    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class SessionsController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="576365f0e513c95d35dbb8d520d7d95590c36dfa">
  <div class="header">
    <h3>app/controllers/transactions_controller.rb</h3>
    <h4>
      <span class="red">
  57.87%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>178</b> relevant lines.
      <span class="green"><b>103</b> lines covered</span> and
      <span class="red"><b>75</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;date&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">class TransactionsController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    before_action :check_login</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def show</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">        id = params[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @user = User.find_user(params[:user_email])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @transaction = Transaction.find(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @converted_amount = convert_amount</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def check_login</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="31" data-linenumber="12">
            <span class="hits">31</span>
            

            

            <code class="ruby">        if session[:user_email] == nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">            flash[:notice] = &quot;Invalid session, please login.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">            redirect_to welcome_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def get_conv_factor(default_currency, transaction_currency)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="19">
            <span class="hits">27</span>
            

            

            <code class="ruby">        case default_currency</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">        when &#39;Canadian dollar&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="21">
            
            

            

            <code class="ruby">            if transaction_currency == &#39;Yuan&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="22">
            
            

            

            <code class="ruby">                conv_factor = 0.19</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="23">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Yen&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="24">
            
            

            

            <code class="ruby">                conv_factor = 0.01</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="25">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;US dollar&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="26">
            
            

            

            <code class="ruby">                conv_factor = 1.34</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="27">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Euro&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="28">
            
            

            

            <code class="ruby">                conv_factor = 1.41</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Rupee&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="30">
            
            

            

            <code class="ruby">                conv_factor = 0.02</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">                conv_factor = 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">            #transaction_params[&#39;amount&#39;] = Concurrency.convert(transaction_params[&#39;amount&#39;], &quot;CAD&quot;, &quot;USD&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">        when &#39;Yuan&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="36">
            
            

            

            <code class="ruby">            if transaction_currency== &#39;Canadian dollar&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="37">
            
            

            

            <code class="ruby">                conv_factor = 5.25</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="38">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Yen&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="39">
            
            

            

            <code class="ruby">                conv_factor = 0.05</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="40">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;US dollar&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="41">
            
            

            

            <code class="ruby">                conv_factor = 7.04</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="42">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Euro&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="43">
            
            

            

            <code class="ruby">                conv_factor = 7.42</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="44">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Rupee&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            
            

            

            <code class="ruby">                conv_factor = 0.09</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="47">
            
            

            

            <code class="ruby">                conv_factor = 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">            #transaction_params[&#39;amount&#39;] = Concurrency.convert(transaction_params[&#39;amount&#39;], &quot;CNY&quot;, &quot;USD&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">        when &#39;Rupee&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="51">
            
            

            

            <code class="ruby">            if transaction_currency == &#39;Yuan&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="52">
            
            

            

            <code class="ruby">                conv_factor = 11.52</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="53">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Yen&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="54">
            
            

            

            <code class="ruby">                conv_factor = 0.60</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="55">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;US dollar&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="56">
            
            

            

            <code class="ruby">                conv_factor = 81.12</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="57">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Euro&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="58">
            
            

            

            <code class="ruby">                conv_factor = 85.47</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="59">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Canadian dollar&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="60">
            
            

            

            <code class="ruby">                conv_factor = 60.42</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="62">
            
            

            

            <code class="ruby">                conv_factor = 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">            #transaction_params[&#39;amount&#39;] = Concurrency.convert(transaction_params[&#39;amount&#39;], &quot;INR&quot;, &quot;USD&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">        when &#39;Yen&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="66">
            <span class="hits">27</span>
            

            

            <code class="ruby">            if transaction_currency == &#39;Yuan&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="67">
            
            

            

            <code class="ruby">                conv_factor = 19</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="68">
            <span class="hits">27</span>
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Canadian dollar&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="69">
            
            

            

            <code class="ruby">                conv_factor = 101</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="70">
            <span class="hits">27</span>
            

            

            <code class="ruby">            elsif transaction_currency == &#39;US dollar&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="71">
            
            

            

            <code class="ruby">                conv_factor = 135</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="72">
            <span class="hits">27</span>
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Euro&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="73">
            
            

            

            <code class="ruby">                conv_factor = 142</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="74">
            <span class="hits">27</span>
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Rupee&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="75">
            
            

            

            <code class="ruby">                conv_factor = 2</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="77">
            <span class="hits">27</span>
            

            

            <code class="ruby">                conv_factor = 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">            #transaction_params[&#39;amount&#39;] = Concurrency.convert(transaction_params[&#39;amount&#39;], &quot;JPY&quot;, &quot;USD&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">        when &#39;Euro&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="81">
            
            

            

            <code class="ruby">            if transaction_currency == &#39;Yuan&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="82">
            
            

            

            <code class="ruby">                conv_factor = 0.13</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="83">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Yen&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="84">
            
            

            

            <code class="ruby">                conv_factor = 0.01</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="85">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;US dollar&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="86">
            
            

            

            <code class="ruby">                conv_factor = 0.95</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="87">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Canadian dollar&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="88">
            
            

            

            <code class="ruby">                conv_factor = 0.71</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="89">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Rupee&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="90">
            
            

            

            <code class="ruby">                conv_factor = 0.01</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="92">
            
            

            

            <code class="ruby">                conv_factor = 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">            #transaction_params[&#39;amount&#39;] = Concurrency.convert(transaction_params[&#39;amount&#39;], &quot;EUR&quot;, &quot;USD&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="96">
            
            

            

            <code class="ruby">            if transaction_currency == &#39;Yuan&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="97">
            
            

            

            <code class="ruby">                conv_factor = 0.14</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="98">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Yen&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="99">
            
            

            

            <code class="ruby">                conv_factor = 0.01</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="100">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Canadian dollar&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="101">
            
            

            

            <code class="ruby">                conv_factor = 0.74</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="102">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Euro&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="103">
            
            

            

            <code class="ruby">                conv_factor = 1.05</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="104">
            
            

            

            <code class="ruby">            elsif transaction_currency == &#39;Rupee&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="105">
            
            

            

            <code class="ruby">                conv_factor = 0.01</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="107">
            
            

            

            <code class="ruby">                conv_factor = 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="110">
            <span class="hits">27</span>
            

            

            <code class="ruby">        return conv_factor</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="114">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def transform</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="115">
            <span class="hits">7</span>
            

            

            <code class="ruby">        money_map = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="116">
            <span class="hits">7</span>
            

            

            <code class="ruby">        @total_dues = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="117">
            <span class="hits">7</span>
            

            

            <code class="ruby">        conv_factor = 1.0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="119">
            <span class="hits">7</span>
            

            

            <code class="ruby">        @transactions.each do |transaction|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="120">
            <span class="hits">27</span>
            

            

            <code class="ruby">            default_currency=User.where(&#39;email = ?&#39;, session[:user_email])[0].default_currency</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="121">
            <span class="hits">27</span>
=======
    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">            conv_factor = get_conv_factor(default_currency, transaction[&quot;currency&quot;])</code>
=======
            <code class="ruby">class SessionsController &lt; ApplicationController</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="122">
=======
          <li class="never" data-hits="" data-linenumber="2">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

<<<<<<< HEAD
            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="123">
            <span class="hits">27</span>
            

            

            <code class="ruby">            payer = transaction[&#39;payer_email&#39;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="124">
            <span class="hits">27</span>
            

            

            <code class="ruby">            payee = transaction[&#39;payee_email&#39;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="125">
            <span class="hits">27</span>
            

            

            <code class="ruby">            is_payer = payer == session[:user_email]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27" data-linenumber="126">
            <span class="hits">27</span>
=======
            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="576365f0e513c95d35dbb8d520d7d95590c36dfa">
  <div class="header">
    <h3>app/controllers/transactions_controller.rb</h3>
    <h4>
      <span class="green">
  98.89%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>90</b> relevant lines.
      <span class="green"><b>89</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">            if is_payer</code>
=======
            <code class="ruby">require &#39;date&#39;</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="17" data-linenumber="127">
            <span class="hits">17</span>
=======
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                @total_dues -= (transaction[&#39;amount&#39;]*(transaction[&#39;percentage&#39;].to_f/100.0) * conv_factor).round(2)</code>
=======
            <code class="ruby">class TransactionsController &lt; ApplicationController</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="17" data-linenumber="128">
            <span class="hits">17</span>
=======
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                if not money_map.key?(payee)</code>
=======
            <code class="ruby">    before_action :check_login</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="16" data-linenumber="129">
            <span class="hits">16</span>
=======
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                    money_map[payee] = -(transaction[&#39;amount&#39;]*(transaction[&#39;percentage&#39;].to_f/100.0) * conv_factor).round(2)</code>
=======
            <code class="ruby">    def show</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="130">
            
=======
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                else </code>
=======
            <code class="ruby">        id = params[:id]</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="131">
=======
          <li class="covered" data-hits="1" data-linenumber="6">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

<<<<<<< HEAD
            <code class="ruby">                    money_map[payee] -= (transaction[&#39;amount&#39;]*(transaction[&#39;percentage&#39;].to_f/100.0) * conv_factor).round(2)</code>
=======
            <code class="ruby">        @user = User.find_user(params[:user_email])</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="132">
            
=======
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                end</code>
=======
            <code class="ruby">        @transaction = Transaction.find(id)</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="133">
            
=======
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">            else</code>
=======
            <code class="ruby">        @converted_amount = convert_amount</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="10" data-linenumber="134">
            <span class="hits">10</span>
=======
          <li class="never" data-hits="" data-linenumber="9">
            
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                @total_dues += (transaction[&#39;amount&#39;]*(transaction[&#39;percentage&#39;].to_f/100.0) * conv_factor).round(2)</code>
=======
            <code class="ruby">    end</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="10" data-linenumber="135">
            <span class="hits">10</span>
=======
          <li class="never" data-hits="" data-linenumber="10">
            
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                if not money_map.key?(payer)</code>
=======
            <code class="ruby"></code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="5" data-linenumber="136">
            <span class="hits">5</span>
=======
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                    money_map[payer] = (transaction[&#39;amount&#39;]*(transaction[&#39;percentage&#39;].to_f/100.0) * conv_factor).round(2)</code>
=======
            <code class="ruby">    def check_login</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="137">
            
=======
          <li class="covered" data-hits="31" data-linenumber="12">
            <span class="hits">31</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                else </code>
=======
            <code class="ruby">        if session[:user_email] == nil</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="5" data-linenumber="138">
            <span class="hits">5</span>
=======
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                    money_map[payer] +=(transaction[&#39;amount&#39;]*(transaction[&#39;percentage&#39;].to_f/100.0) * conv_factor).round(2)</code>
=======
            <code class="ruby">            flash[:notice] = &quot;Invalid session, please login.&quot;</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="139">
            
=======
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                end</code>
=======
            <code class="ruby">            redirect_to welcome_path</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="140">
=======
          <li class="never" data-hits="" data-linenumber="15">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

<<<<<<< HEAD
            <code class="ruby">            end</code>
=======
            <code class="ruby">        end</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="141">
=======
          <li class="never" data-hits="" data-linenumber="16">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

<<<<<<< HEAD
            <code class="ruby">        end</code>
=======
            <code class="ruby">    end</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="142">
=======
          <li class="never" data-hits="" data-linenumber="17">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="7" data-linenumber="143">
            <span class="hits">7</span>
=======
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">        @repayments.each do |repayment|</code>
=======
            <code class="ruby">    def transform</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="144">
            
=======
          <li class="covered" data-hits="7" data-linenumber="19">
            <span class="hits">7</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">            default_currency=User.where(&#39;email = ?&#39;, session[:user_email])[0].default_currency</code>
=======
            <code class="ruby">        money_map = {}</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="145">
            
=======
          <li class="covered" data-hits="7" data-linenumber="20">
            <span class="hits">7</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">            conv_factor = get_conv_factor(default_currency, repayment[&quot;currency&quot;])</code>
=======
            <code class="ruby">        @total_dues = 0</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="146">
            
=======
          <li class="covered" data-hits="7" data-linenumber="21">
            <span class="hits">7</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby"></code>
=======
            <code class="ruby">        @transactions.each do |transaction|</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="147">
            
=======
          <li class="covered" data-hits="27" data-linenumber="22">
            <span class="hits">27</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">            payer = repayment[&#39;payer_email&#39;]</code>
=======
            <code class="ruby">            payer = transaction[&#39;payer_email&#39;]</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="148">
            
=======
          <li class="covered" data-hits="27" data-linenumber="23">
            <span class="hits">27</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">            payee = repayment[&#39;payee_email&#39;]</code>
=======
            <code class="ruby">            payee = transaction[&#39;payee_email&#39;]</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="149">
            
=======
          <li class="covered" data-hits="27" data-linenumber="24">
            <span class="hits">27</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

            <code class="ruby">            is_payer = payer == session[:user_email]</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="150">
            
=======
          <li class="covered" data-hits="27" data-linenumber="25">
            <span class="hits">27</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

            <code class="ruby">            if is_payer</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="151">
            
=======
          <li class="covered" data-hits="17" data-linenumber="26">
            <span class="hits">17</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                @total_dues -= (repayment[&#39;amount&#39;] * conv_factor).round(2)</code>
=======
            <code class="ruby">                @total_dues -= transaction[&#39;amount&#39;]</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="152">
            
=======
          <li class="covered" data-hits="17" data-linenumber="27">
            <span class="hits">17</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

            <code class="ruby">                if not money_map.key?(payee)</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="153">
            
=======
          <li class="covered" data-hits="16" data-linenumber="28">
            <span class="hits">16</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                    money_map[payee] = -(repayment[&#39;amount&#39;] * conv_factor).round(2)</code>
=======
            <code class="ruby">                    money_map[payee] = transaction[&#39;amount&#39;]</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="154">
=======
          <li class="never" data-hits="" data-linenumber="29">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">                else </code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="155">
            
=======
          <li class="covered" data-hits="1" data-linenumber="30">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                    money_map[payee] -= (repayment[&#39;amount&#39;] * conv_factor).round(2)</code>
=======
            <code class="ruby">                    money_map[payee] += transaction[&#39;amount&#39;]</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="156">
=======
          <li class="never" data-hits="" data-linenumber="31">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="157">
=======
          <li class="never" data-hits="" data-linenumber="32">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

<<<<<<< HEAD
            <code class="ruby">            else</code>
=======
            <code class="ruby">            else </code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="158">
            
=======
          <li class="covered" data-hits="10" data-linenumber="33">
            <span class="hits">10</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                @total_dues += (repayment[&#39;amount&#39;] * conv_factor).round(2)</code>
=======
            <code class="ruby">                @total_dues += transaction[&#39;amount&#39;]</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="159">
            
=======
          <li class="covered" data-hits="10" data-linenumber="34">
            <span class="hits">10</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

            <code class="ruby">                if not money_map.key?(payer)</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="160">
            
=======
          <li class="covered" data-hits="5" data-linenumber="35">
            <span class="hits">5</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                    money_map[payer] = (repayment[&#39;amount&#39;] * conv_factor).round(2)</code>
=======
            <code class="ruby">                    money_map[payer] = - transaction[&#39;amount&#39;]</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="161">
=======
          <li class="never" data-hits="" data-linenumber="36">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">                else </code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="162">
            
=======
          <li class="covered" data-hits="5" data-linenumber="37">
            <span class="hits">5</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

<<<<<<< HEAD
            <code class="ruby">                    money_map[payer] +=(repayment[&#39;amount&#39;]* conv_factor).round(2)</code>
=======
            <code class="ruby">                    money_map[payer] += - transaction[&#39;amount&#39;]</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="163">
=======
          <li class="never" data-hits="" data-linenumber="38">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="164">
=======
          <li class="never" data-hits="" data-linenumber="39">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="165">
=======
          <li class="never" data-hits="" data-linenumber="40">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="168">
=======
          <li class="covered" data-hits="7" data-linenumber="41">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">7</span>
            

            

            <code class="ruby">        persons = []</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="7" data-linenumber="169">
=======
          <li class="covered" data-hits="7" data-linenumber="42">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">7</span>
            

            

            <code class="ruby">        money_map.each do |key, value|</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="21" data-linenumber="170">
=======
          <li class="covered" data-hits="21" data-linenumber="43">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">21</span>
            

            

            <code class="ruby">            pmap = {}</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="21" data-linenumber="171">
=======
          <li class="covered" data-hits="21" data-linenumber="44">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">21</span>
            

            

            <code class="ruby">            pmap[&#39;email&#39;] = key</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="21" data-linenumber="172">
=======
          <li class="covered" data-hits="21" data-linenumber="45">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">21</span>
            

            

            <code class="ruby">            pmap[&#39;amount_due&#39;] = value</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="21" data-linenumber="173">
=======
          <li class="covered" data-hits="21" data-linenumber="46">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">21</span>
            

            

            <code class="ruby">            persons.push(pmap)</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="174">
=======
          <li class="never" data-hits="" data-linenumber="47">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="7" data-linenumber="175">
=======
          <li class="covered" data-hits="7" data-linenumber="48">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">7</span>
            

            

            <code class="ruby">        return persons</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="176">
=======
          <li class="never" data-hits="" data-linenumber="49">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="177">
=======
          <li class="never" data-hits="" data-linenumber="50">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="178">
=======
          <li class="covered" data-hits="1" data-linenumber="51">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">    def index</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="7" data-linenumber="179">
=======
          <li class="covered" data-hits="7" data-linenumber="52">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">7</span>
            

            

            <code class="ruby">        @user_email = session[:user_email]</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="7" data-linenumber="180">
=======
          <li class="covered" data-hits="7" data-linenumber="53">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">7</span>
            

            

            <code class="ruby">        @transactions = Transaction.all_transactions_for_user(session[:user_email])</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="7" data-linenumber="181">
            <span class="hits">7</span>
            

            

            <code class="ruby">        @repayments = Repayment.all_repayment_for_user(session[:user_email])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="182">
=======
          <li class="covered" data-hits="7" data-linenumber="54">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">7</span>
            

            

            <code class="ruby">        @persons = transform</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="183">
=======
          <li class="never" data-hits="" data-linenumber="55">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="184">
=======
          <li class="never" data-hits="" data-linenumber="56">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="185">
=======
          <li class="covered" data-hits="1" data-linenumber="57">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">    def list</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="8" data-linenumber="186">
=======
          <li class="covered" data-hits="8" data-linenumber="58">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">8</span>
            

            

            <code class="ruby">        @user_email = session[:user_email]</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="8" data-linenumber="187">
=======
          <li class="covered" data-hits="8" data-linenumber="59">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">8</span>
            

            

            <code class="ruby">        filter_form = params[&quot;filter_form&quot;]</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="8" data-linenumber="188">
=======
          <li class="covered" data-hits="8" data-linenumber="60">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">8</span>
            

            

            <code class="ruby">        if filter_form.nil?</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="missed" data-hits="0" data-linenumber="189">
=======
          <li class="missed" data-hits="0" data-linenumber="61">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">            @transactions = Transaction.all_transactions_for_user(session[:user_email])</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="190">
=======
          <li class="never" data-hits="" data-linenumber="62">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">        else </code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="8" data-linenumber="191">
=======
          <li class="covered" data-hits="8" data-linenumber="63">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">8</span>
            

            

            <code class="ruby">            tag = params[&quot;filter_form&quot;][&quot;tag&quot;]</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="8" data-linenumber="192">
=======
          <li class="covered" data-hits="8" data-linenumber="64">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">8</span>
            

            

            <code class="ruby">            start_date = params[&quot;filter_form&quot;][&quot;start_date&quot;]</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="8" data-linenumber="193">
=======
          <li class="covered" data-hits="8" data-linenumber="65">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">8</span>
            

            

            <code class="ruby">            end_date = params[&quot;filter_form&quot;][&quot;end_date&quot;]</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="8" data-linenumber="194">
=======
          <li class="covered" data-hits="8" data-linenumber="66">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">8</span>
            

            

            <code class="ruby">            if (tag.nil? or tag.empty?) and (start_date.nil? or start_date.empty?) and (end_date.nil? or end_date.empty?)</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="195">
=======
          <li class="covered" data-hits="1" data-linenumber="67">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">                @transactions = Transaction.all_transactions_for_user(session[:user_email])</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="196">
=======
          <li class="never" data-hits="" data-linenumber="68">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="7" data-linenumber="197">
=======
          <li class="covered" data-hits="7" data-linenumber="69">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">7</span>
            

            

            <code class="ruby">                @transactions = Transaction.find_tansactions_tag_time(session[:user_email],  params[&quot;filter_form&quot;][&quot;tag&quot;], params[&quot;filter_form&quot;][&quot;start_date&quot;], params[&quot;filter_form&quot;][&quot;end_date&quot;])</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="198">
=======
          <li class="never" data-hits="" data-linenumber="70">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="199">
=======
          <li class="never" data-hits="" data-linenumber="71">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="200">
=======
          <li class="never" data-hits="" data-linenumber="72">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="201">
=======
          <li class="never" data-hits="" data-linenumber="73">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="202">
=======
          <li class="covered" data-hits="1" data-linenumber="74">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">    def destroy</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="203">
=======
          <li class="covered" data-hits="1" data-linenumber="75">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">        @transaction = Transaction.find(params[:id])</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="204">
=======
          <li class="covered" data-hits="1" data-linenumber="76">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">        @transaction.destroy</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="205">
=======
          <li class="covered" data-hits="1" data-linenumber="77">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">        flash[:notice] = &quot;Transaction &#39;#{@transaction.id}&#39; deleted.&quot;</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="206">
=======
          <li class="covered" data-hits="1" data-linenumber="78">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">        redirect_to transactions_path</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="207">
=======
          <li class="never" data-hits="" data-linenumber="79">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="208">
=======
          <li class="never" data-hits="" data-linenumber="80">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="209">
=======
          <li class="covered" data-hits="1" data-linenumber="81">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">    def new</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="210">
=======
          <li class="covered" data-hits="1" data-linenumber="82">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">        @users = Transaction.all_user_mails</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="211">
=======
          <li class="never" data-hits="" data-linenumber="83">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="212">
=======
          <li class="never" data-hits="" data-linenumber="84">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="213">
=======
          <li class="covered" data-hits="1" data-linenumber="85">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">    def edit</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="214">
=======
          <li class="covered" data-hits="1" data-linenumber="86">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">        @users = Transaction.all_user_mails</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="215">
=======
          <li class="covered" data-hits="1" data-linenumber="87">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">        @transaction = Transaction.find params[:id]</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="216">
=======
          <li class="never" data-hits="" data-linenumber="88">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="217">
=======
          <li class="never" data-hits="" data-linenumber="89">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="218">
=======
          <li class="covered" data-hits="1" data-linenumber="90">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">    def validate_create</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="9" data-linenumber="219">
=======
          <li class="covered" data-hits="9" data-linenumber="91">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">9</span>
            

            

            <code class="ruby">        flag = false</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="9" data-linenumber="220">
=======
          <li class="covered" data-hits="9" data-linenumber="92">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">9</span>
            

            

            <code class="ruby">        if transaction_params[&#39;payer_email&#39;] != session[:user_email] and transaction_params[&#39;payee_email&#39;] != session[:user_email]</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="221">
=======
          <li class="covered" data-hits="1" data-linenumber="93">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">            flash[:notice] = &quot;Invalid transaction - payer or payee must be you.&quot;</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="8" data-linenumber="222">
=======
          <li class="covered" data-hits="8" data-linenumber="94">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">8</span>
            

            

            <code class="ruby">        elsif transaction_params[&#39;payer_email&#39;] == transaction_params[&#39;payee_email&#39;]</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="223">
=======
          <li class="covered" data-hits="1" data-linenumber="95">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">            flash[:notice] = &quot;Invalid transaction - payer and payee cannot be the same user.&quot;</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="7" data-linenumber="224">
=======
          <li class="covered" data-hits="7" data-linenumber="96">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">7</span>
            

            

            <code class="ruby">        elsif Date.iso8601(transaction_params[&#39;timestamp&#39;]) &gt; Date.today</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="225">
=======
          <li class="covered" data-hits="1" data-linenumber="97">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">            flash[:notice] = &quot;Invalid transaction - date cannot be in the future.&quot;</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="226">
=======
          <li class="never" data-hits="" data-linenumber="98">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="6" data-linenumber="227">
=======
          <li class="covered" data-hits="6" data-linenumber="99">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">6</span>
            

            

            <code class="ruby">            flag = true</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="228">
=======
          <li class="never" data-hits="" data-linenumber="100">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="9" data-linenumber="229">
=======
          <li class="covered" data-hits="9" data-linenumber="101">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">9</span>
            

            

            <code class="ruby">        return flag</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="230">
=======
          <li class="never" data-hits="" data-linenumber="102">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="231">
=======
          <li class="never" data-hits="" data-linenumber="103">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="232">
=======
          <li class="covered" data-hits="1" data-linenumber="104">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">    def create</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="9" data-linenumber="233">
=======
          <li class="covered" data-hits="9" data-linenumber="105">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">9</span>
            

            

            <code class="ruby">        if validate_create</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="234">
=======
          <li class="never" data-hits="" data-linenumber="106">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">            begin</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="6" data-linenumber="235">
=======
          <li class="covered" data-hits="6" data-linenumber="107">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">6</span>
            

            

            <code class="ruby">                @transaction = Transaction.create!(transaction_params)</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="5" data-linenumber="236">
=======
          <li class="covered" data-hits="5" data-linenumber="108">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">5</span>
            

            

            <code class="ruby">                flash[:notice] = &quot;Transaction was successfully created.&quot;</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="237">
=======
          <li class="never" data-hits="" data-linenumber="109">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">            rescue ActiveRecord::RecordInvalid =&gt; invalid</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="238">
=======
          <li class="covered" data-hits="1" data-linenumber="110">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">                flash[:notice] = &quot;Invalid transaction amount/percentage.&quot;</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="239">
=======
          <li class="never" data-hits="" data-linenumber="111">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="240">
=======
          <li class="never" data-hits="" data-linenumber="112">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="9" data-linenumber="241">
=======
          <li class="covered" data-hits="9" data-linenumber="113">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">9</span>
            

            

            <code class="ruby">        redirect_to transactions_path</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="242">
=======
          <li class="never" data-hits="" data-linenumber="114">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="243">
=======
          <li class="never" data-hits="" data-linenumber="115">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="244">
=======
          <li class="covered" data-hits="1" data-linenumber="116">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">    def update</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="245">
=======
          <li class="covered" data-hits="1" data-linenumber="117">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">        @transaction = Transaction.find params[:id]</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="246">
=======
          <li class="covered" data-hits="1" data-linenumber="118">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">        @transaction.update_attributes!(transaction_params)</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="247">
=======
          <li class="covered" data-hits="1" data-linenumber="119">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">        flash[:notice] = &quot;#{@transaction.id} was successfully updated.&quot;</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="248">
=======
          <li class="covered" data-hits="1" data-linenumber="120">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">        redirect_to transaction_path(@transaction)</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="249">
=======
          <li class="never" data-hits="" data-linenumber="121">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="250">
=======
          <li class="never" data-hits="" data-linenumber="122">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="251">
=======
          <li class="covered" data-hits="1" data-linenumber="123">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">    def convert_amount</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="252">
=======
          <li class="covered" data-hits="1" data-linenumber="124">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">        return @transaction.amount.to_s + &quot; (&quot; + @transaction.currency + &quot;)&quot;</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="253">
=======
          <li class="never" data-hits="" data-linenumber="125">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="254">
=======
          <li class="never" data-hits="" data-linenumber="126">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="255">
=======
          <li class="covered" data-hits="1" data-linenumber="127">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">    def logout</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="256">
=======
          <li class="covered" data-hits="1" data-linenumber="128">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">        session[:user_email] = nil</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="257">
=======
          <li class="covered" data-hits="1" data-linenumber="129">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">        flash[:notice] = &quot;User successfully logged out.&quot;</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="258">
=======
          <li class="covered" data-hits="1" data-linenumber="130">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">        redirect_to welcome_path</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="259">
=======
          <li class="never" data-hits="" data-linenumber="131">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="260">
=======
          <li class="never" data-hits="" data-linenumber="132">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="261">
=======
          <li class="covered" data-hits="1" data-linenumber="133">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="262">
=======
          <li class="never" data-hits="" data-linenumber="134">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    # Making &quot;internal&quot; methods private is not required, but is a common practice.</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="263">
=======
          <li class="never" data-hits="" data-linenumber="135">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    # This helps make clear which methods respond to requests, and which ones do not.</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="1" data-linenumber="264">
=======
          <li class="covered" data-hits="1" data-linenumber="136">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">1</span>
            

            

            <code class="ruby">    def transaction_params</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="44" data-linenumber="265">
=======
          <li class="covered" data-hits="44" data-linenumber="137">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            <span class="hits">44</span>
            

            

            <code class="ruby">        params.require(:transaction).permit(:payer_email, :payee_email, :description, :currency, :amount, :percentage, :timestamp, :tag)</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="266">
=======
          <li class="never" data-hits="" data-linenumber="138">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="267">
=======
          <li class="never" data-hits="" data-linenumber="139">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="never" data-hits="" data-linenumber="268">
=======
          <li class="never" data-hits="" data-linenumber="140">
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f7177e99a07671734c0f90e6dd59061ceb863bfa">
  <div class="header">
    <h3>app/controllers/users_controller.rb</h3>
    <h4>
      <span class="green">
  95.74%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>47</b> relevant lines.
      <span class="green"><b>45</b> lines covered</span> and
      <span class="red"><b>2</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class UsersController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def check_login</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="3">
            <span class="hits">2</span>
            

            

            <code class="ruby">        if session[:user_email] == nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">            flash[:notice] = &quot;Invalid session, please login.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">            redirect_to welcome_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def index</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @users = User.all</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @user = User.new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def create</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">        begin</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="19">
            <span class="hits">4</span>
            

            

            <code class="ruby">            if user_params[&#39;name&#39;].empty? or (user_params[&#39;email&#39;].size &lt; 14 or user_params[&#39;email&#39;][-13...]!=&quot;@columbia.edu&quot;) or user_params[&#39;password&#39;].empty? </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="20">
            <span class="hits">2</span>
            

            

            <code class="ruby">                flash[:notice] = &quot;Invalid credentials.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="21">
            <span class="hits">2</span>
            

            

            <code class="ruby">                redirect_to welcome_path</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="22">
            <span class="hits">2</span>
            

            

            <code class="ruby">                return</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="24">
            <span class="hits">2</span>
            

            

            <code class="ruby">            @user = User.create!(user_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">            if @user.save</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">                session[:user_email] = @user.email</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">                redirect_to transactions_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">        rescue ActiveRecord::RecordInvalid =&gt; invalid</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="30">
            <span class="hits">1</span>
            

            

            <code class="ruby">            flash[:notice] = &quot;User with email already exists.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">            redirect_to welcome_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def show</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="36">
            <span class="hits">2</span>
            

            

            <code class="ruby">        check_login</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="37">
            <span class="hits">2</span>
            

            

            <code class="ruby">        @user = User.find_user(session[:user_email])[0]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def edit</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="41">
            
            

            

            <code class="ruby">        check_login</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="42">
            
            

            

            <code class="ruby">        @user = User.find_user(session[:user_email])[0]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def update</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="46">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @user = User.find params[:id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @user.update_attributes!(user_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">        flash[:notice] = &quot;#{@user.email} was successfully updated.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="49">
            <span class="hits">1</span>
            

            

            <code class="ruby">        redirect_to transactions_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def login</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="55">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def validate</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="56">
            <span class="hits">3</span>
            

            

            <code class="ruby">        user = User.find_user(params[&quot;user&quot;][&quot;email&quot;])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="57">
            <span class="hits">3</span>
            

            

            <code class="ruby">        if user.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">            flash[:notice] = &quot;User does not exist.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">            redirect_to welcome_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="61">
            <span class="hits">3</span>
            

            

            <code class="ruby">        if user.size() != 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="62">
            <span class="hits">2</span>
            

            

            <code class="ruby">            if user[0].password == params[&quot;user&quot;][&quot;password&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="63">
            <span class="hits">1</span>
            

            

            <code class="ruby">                session[:user_email] = params[&quot;user&quot;][&quot;email&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="64">
            <span class="hits">1</span>
            

            

            <code class="ruby">                redirect_to transactions_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">                return</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="67">
            <span class="hits">1</span>
            

            

            <code class="ruby">                flash[:notice] = &quot;User login was invalid.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="68">
            <span class="hits">1</span>
            

            

            <code class="ruby">                redirect_to welcome_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="74">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="75">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def user_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="14" data-linenumber="76">
            <span class="hits">14</span>
            

            

            <code class="ruby">        params.require(:user).permit(:name, :email, :password, :default_currency)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="b7db2b897c32229cf357057f236138b8cd1e22de">
  <div class="header">
    <h3>app/models/repayment.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>13</b> relevant lines.
      <span class="green"><b>13</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Repayment &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    validates :amount, numericality: { greater_than: 0 }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.all_repayment_for_user(email)</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="8" data-linenumber="5">
            <span class="hits">8</span>
=======
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

            <code class="ruby">        payer_trans = Repayment.where(&#39;payer_email = ?&#39;, email)</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="8" data-linenumber="6">
            <span class="hits">8</span>
=======
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

            <code class="ruby">        payee_trans = Repayment.where(&#39;payee_email = ?&#39;, email)</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="8" data-linenumber="7">
            <span class="hits">8</span>
=======
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

            <code class="ruby">        all_trans = []</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="8" data-linenumber="8">
            <span class="hits">8</span>
=======
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

            <code class="ruby">        if not payee_trans.nil?</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="8" data-linenumber="9">
            <span class="hits">8</span>
=======
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

            <code class="ruby">            payer_trans.each do |t|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="10">
            <span class="hits">2</span>
            

            

            <code class="ruby">                all_trans.push(t)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="8" data-linenumber="13">
            <span class="hits">8</span>
=======
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

            <code class="ruby">        if not payee_trans.nil?</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="8" data-linenumber="14">
            <span class="hits">8</span>
=======
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

            <code class="ruby">            payee_trans.each do |t|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">                all_trans.push(t)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
<<<<<<< HEAD
          <li class="covered" data-hits="8" data-linenumber="18">
            <span class="hits">8</span>
=======
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
            

            

            <code class="ruby">        return all_trans</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f38a9c93b1660cfa90eed1a35ec2f9d6819fd130">
  <div class="header">
    <h3>app/models/transaction.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>59</b> relevant lines.
      <span class="green"><b>59</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Transaction &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    validates :amount, numericality: { greater_than: 0 }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    validates :percentage, numericality: { greater_than: 0 }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.all_transactions_for_user(email)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="5">
            <span class="hits">9</span>
            

            

            <code class="ruby">        payer_trans = Transaction.where(&#39;payer_email = ?&#39;, email)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="6">
            <span class="hits">9</span>
            

            

            <code class="ruby">        payee_trans = Transaction.where(&#39;payee_email = ?&#39;, email)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="7">
            <span class="hits">9</span>
            

            

            <code class="ruby">        all_trans = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="8">
            <span class="hits">9</span>
            

            

            <code class="ruby">        if not payee_trans.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="9">
            <span class="hits">9</span>
            

            

            <code class="ruby">            payer_trans.each do |t|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="21" data-linenumber="10">
            <span class="hits">21</span>
            

            

            <code class="ruby">                all_trans.push(t)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="13">
            <span class="hits">9</span>
            

            

            <code class="ruby">        if not payee_trans.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="14">
            <span class="hits">9</span>
            

            

            <code class="ruby">            payee_trans.each do |t|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="15">
            <span class="hits">12</span>
            

            

            <code class="ruby">                all_trans.push(t)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="18">
            <span class="hits">9</span>
            

            

            <code class="ruby">        return all_trans</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.find_tansactions_tag_time(email, tag, start_time, end_time)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="22">
            <span class="hits">10</span>
            

            

            <code class="ruby">        if tag == &#39;&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="23">
            <span class="hits">4</span>
            

            

            <code class="ruby">            if start_time == &#39;&#39; and end_time != &#39;&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">                payer_trans = Transaction.where(&#39;payer_email= ? and timestamp &lt;= ?&#39;, email, end_time)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">                payee_trans = Transaction.where(&#39;payee_email= ? and timestamp &lt;= ?&#39;, email, end_time)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="26">
            <span class="hits">3</span>
            

            

            <code class="ruby">            elsif end_time == &#39;&#39; and start_time != &#39;&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">                payer_trans = Transaction.where(&#39;payer_email= ? and timestamp &gt;= ?&#39;, email, start_time)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">                payee_trans = Transaction.where(&#39;payee_email= ? and timestamp &gt;= ?&#39;, email, start_time)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="30">
            <span class="hits">2</span>
            

            

            <code class="ruby">                payer_trans = Transaction.where(&#39;payer_email= ? and timestamp &gt;= ? and timestamp&lt;= ?&#39;, email, start_time, end_time)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="31">
            <span class="hits">2</span>
            

            

            <code class="ruby">                payee_trans = Transaction.where(&#39;payee_email= ? and timestamp &gt;= ? and timestamp&lt;= ?&#39;, email, start_time, end_time)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="34">
            <span class="hits">6</span>
            

            

            <code class="ruby">            if start_time == &#39;&#39; and end_time != &#39;&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">                payer_trans = Transaction.where(&#39;payer_email= ? and tag = ? and timestamp&lt;= ?&#39;, email, tag, end_time)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">                payee_trans = Transaction.where(&#39;payee_email= ? and tag = ? and timestamp&lt;= ?&#39;, email, tag, end_time)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="37">
            <span class="hits">5</span>
            

            

            <code class="ruby">            elsif end_time == &#39;&#39; and start_time != &#39;&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="38">
            <span class="hits">1</span>
            

            

            <code class="ruby">                payer_trans = Transaction.where(&#39;payer_email= ? and tag = ? and timestamp&gt;= ?&#39;, email, tag, start_time)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">                payee_trans = Transaction.where(&#39;payee_email= ? and tag = ? and timestamp&gt;= ?&#39;, email, tag, start_time)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="40">
            <span class="hits">4</span>
            

            

            <code class="ruby">            elsif start_time != &#39;&#39; and end_time != &#39;&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="41">
            <span class="hits">2</span>
            

            

            <code class="ruby">                payer_trans = Transaction.where(&#39;tag = ? and payer_email= ? and timestamp &gt;= ? and timestamp&lt;= ?&#39;, tag, email, start_time, end_time)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="42">
            <span class="hits">2</span>
            

            

            <code class="ruby">                payee_trans = Transaction.where(&#39;tag = ? and payee_email= ? and timestamp &gt;= ? and timestamp&lt;= ?&#39;, tag, email, start_time, end_time)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="44">
            <span class="hits">2</span>
            

            

            <code class="ruby">                payer_trans = Transaction.where(&#39;payer_email = ? and tag = ?&#39;, email, tag)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="45">
            <span class="hits">2</span>
            

            

            <code class="ruby">                payee_trans = Transaction.where(&#39;payee_email = ? and tag = ?&#39;, email, tag)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="48">
            <span class="hits">10</span>
            

            

            <code class="ruby">        all_trans = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="49">
            <span class="hits">10</span>
            

            

            <code class="ruby">        if not payee_trans.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="50">
            <span class="hits">10</span>
            

            

            <code class="ruby">            payer_trans.each do |t|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="51">
            <span class="hits">10</span>
            

            

            <code class="ruby">                all_trans.push(t)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="54">
            <span class="hits">10</span>
            

            

            <code class="ruby">        if not payee_trans.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="55">
            <span class="hits">10</span>
            

            

            <code class="ruby">            payee_trans.each do |t|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="56">
            <span class="hits">9</span>
            

            

            <code class="ruby">                all_trans.push(t)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="59">
            <span class="hits">10</span>
            

            

            <code class="ruby">        return all_trans</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.owe_money(payer_email, payee_email)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="63">
            <span class="hits">4</span>
            

            

            <code class="ruby">        payer_trans = Transaction.where(&#39;payer_email = ? and payee_email = ?&#39;, payer_email, payee_email)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="64">
            <span class="hits">4</span>
            

            

            <code class="ruby">        sum = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="65">
            <span class="hits">4</span>
            

            

            <code class="ruby">        if not payer_trans.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="66">
            <span class="hits">4</span>
            

            

            <code class="ruby">            payer_trans.each do |t|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="67">
            <span class="hits">3</span>
            

            

<<<<<<< HEAD
            <code class="ruby">                sum -= t[&quot;amount&quot;] * (t[&quot;percentage&quot;]/100).to_f</code>
=======
            <code class="ruby">                sum -= t[&quot;amount&quot;] * t[&quot;percentage&quot;]</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="70">
            <span class="hits">4</span>
            

            

            <code class="ruby">        payee_trans = Transaction.where(&#39;payer_email = ? and payee_email = ?&#39;, payee_email, payer_email)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="71">
            <span class="hits">4</span>
            

            

            <code class="ruby">        if not payee_trans.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="72">
            <span class="hits">4</span>
            

            

            <code class="ruby">            payee_trans.each do |t|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="73">
            <span class="hits">3</span>
            

            

<<<<<<< HEAD
            <code class="ruby">                sum += t[&quot;amount&quot;] * (t[&quot;percentage&quot;]/100).to_f</code>
=======
            <code class="ruby">                sum += t[&quot;amount&quot;] * t[&quot;percentage&quot;]</code>
>>>>>>> 721bc6f8d2383a8f9957c7bea596bcc089061237
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="76">
            <span class="hits">4</span>
            

            

            <code class="ruby">        return sum</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="79">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.all_user_mails</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">        # class method to get all user emails</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="81">
            <span class="hits">5</span>
            

            

            <code class="ruby">        user_mails = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="82">
            <span class="hits">5</span>
            

            

            <code class="ruby">        User.all.each do |u|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="83">
            <span class="hits">10</span>
            

            

            <code class="ruby">            user_mails.push(u.email)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="85">
            <span class="hits">5</span>
            

            

            <code class="ruby">        return user_mails</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f0b2ff7695c22e731aebe795e43b9da6fffb0efe">
  <div class="header">
    <h3>app/models/user.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>4</b> relevant lines.
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class User &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    validates :email, uniqueness: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.find_user(email)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="4">
            <span class="hits">15</span>
            

            

            <code class="ruby">        User.where(&#39;email = ?&#39;, email)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
      </div>
    </div>
  </body>
</html>
